<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=fa data-palette=blue><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>پشته‌ی فراخوانی توابع (Function Call Stack) چیست؟ - وبلاگ آرمان حسن پور</title><link rel=apple-touch-icon href=/images/icons/icon-180x180.png sizes=180x180><link rel=icon href=/images/icons/icon-192x192.png sizes=192x192 type=image/png><link rel=icon href=/images/icons/icon-32x32.png sizes=32x32 type=image/png><link rel=icon href=/images/icons/icon-16x16.png sizes=16x16 type=image/png><link rel=icon href=/images/icons/favicon.ico><link rel=manifest href=/manifest.json><meta name=keywords content><meta name=description content="یکی از مهم‌ترین ساز و کارهایی که باید از سوی دانشجویان علوم کامپیوتر درک گردد پشته‌ی فراخوانی تابع است (گاهی اوقات تحت عنوان پشته‌ی اجرای برنامه نیز شناخته می‌شود). این ساختمان داده – که در پشت صحنه کار خود را انجام می‌دهد – ساز و کار فراخوانی و بازگشت توابع و همچنین ایجاد، نگهداری و انهدام متغیرهای خودکار توابع فراخوانی‌شده را نیز پشتیبانی می‌کند."><meta name=robots content="index, follow"><meta itemprop=name content="پشته‌ی فراخوانی توابع (Function Call Stack) چیست؟"><meta itemprop=description content="یکی از مهم‌ترین ساز و کارهایی که باید از سوی دانشجویان علوم کامپیوتر درک گردد پشته‌ی فراخوانی تابع است (گاهی اوقات تحت عنوان پشته‌ی اجرای برنامه نیز شناخته می‌شود). این ساختمان داده – که در پشت صحنه کار خود را انجام می‌دهد – ساز و کار فراخوانی و بازگشت توابع و همچنین ایجاد، نگهداری و انهدام متغیرهای خودکار توابع فراخوانی‌شده را نیز پشتیبانی می‌کند."><meta itemprop=datePublished content="2017-08-11T14:20:52+03:30"><meta itemprop=dateModified content="2017-08-11T14:20:52+03:30"><meta itemprop=wordCount content="660"><meta itemprop=keywords content="Function Call Stack,Call Stack"><meta property="og:url" content="/posts/function-call-stack-info/"><meta property="og:site_name" content="وبلاگ آرمان حسن پور"><meta property="og:title" content="پشته‌ی فراخوانی توابع (Function Call Stack) چیست؟"><meta property="og:description" content="یکی از مهم‌ترین ساز و کارهایی که باید از سوی دانشجویان علوم کامپیوتر درک گردد پشته‌ی فراخوانی تابع است (گاهی اوقات تحت عنوان پشته‌ی اجرای برنامه نیز شناخته می‌شود). این ساختمان داده – که در پشت صحنه کار خود را انجام می‌دهد – ساز و کار فراخوانی و بازگشت توابع و همچنین ایجاد، نگهداری و انهدام متغیرهای خودکار توابع فراخوانی‌شده را نیز پشتیبانی می‌کند."><meta property="og:locale" content="fa_ir"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2017-08-11T14:20:52+03:30"><meta property="article:modified_time" content="2017-08-11T14:20:52+03:30"><meta property="article:tag" content="Function Call Stack"><meta property="article:tag" content="Call Stack"><meta name=twitter:card content="summary"><meta name=twitter:title content="پشته‌ی فراخوانی توابع (Function Call Stack) چیست؟"><meta name=twitter:description content="یکی از مهم‌ترین ساز و کارهایی که باید از سوی دانشجویان علوم کامپیوتر درک گردد پشته‌ی فراخوانی تابع است (گاهی اوقات تحت عنوان پشته‌ی اجرای برنامه نیز شناخته می‌شود). این ساختمان داده – که در پشت صحنه کار خود را انجام می‌دهد – ساز و کار فراخوانی و بازگشت توابع و همچنین ایجاد، نگهداری و انهدام متغیرهای خودکار توابع فراخوانی‌شده را نیز پشتیبانی می‌کند."><meta property="og:image" content="/false"><meta name=twitter:image content="/false"><link rel=stylesheet href="/assets/main/bundle.min.1c12b0a07298593a05c8e11601121ccb4a60880f06ecf4320021add9defc2cfb.css" crossorigin=anonymous><link rel=stylesheet href=/assets/viewer/bundle.min.f05183267bb952fbc8c63a7178364de2951614ab71d544ec1068ad36c7447ccc.css crossorigin=anonymous><script async src="https://www.googletagmanager.com/gtag/js?id=G-M2V2LN2RH7"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-M2V2LN2RH7")</script></head><body><script>const items=["mode","palette"];items.forEach(function(e){const t=localStorage.getItem("hbs-"+e);t&&document.body.parentElement.setAttribute("data-"+e,t)})</script><header><nav class="navbar top-app-bar top-app-bar-expand-lg fixed-top"><div class=container><button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<i class="fas fa-bars"></i>
</button><a class="navbar-brand flex-grow-1 flex-lg-grow-0 text-center text-lg-start mx-auto ms-lg-5" href=/>وبلاگ آرمان حسن پور</a><div class="offcanvas offcanvas-bottom surface" tabindex=-1 id=offcanvasSocialShare aria-labelledby=offcanvasSocialShare><div class=offcanvas-header><h3 class=offcanvas-title>Share</h3><button type=button class="btn btn-sm btn-outline-primary" data-bs-dismiss=offcanvas aria-label=Close>
<i class="fas fa-times"></i></button></div><div class=offcanvas-body><a class="btn btn-sm btn-outline-primary social-share-button" rel="noopener noreferrer" aria-label="Twitter Share Button" target=_blank href="https://twitter.com/intent/tweet?title=%d9%be%d8%b4%d8%aa%d9%87%e2%80%8c%db%8c%20%d9%81%d8%b1%d8%a7%d8%ae%d9%88%d8%a7%d9%86%db%8c%20%d8%aa%d9%88%d8%a7%d8%a8%d8%b9%20%28Function%20Call%20Stack%29%20%da%86%db%8c%d8%b3%d8%aa%d8%9f&url=%2fposts%2ffunction-call-stack-info%2f"><i class="fab fa-fw fa-twitter"></i> Twitter
</a><a class="btn btn-sm btn-outline-primary social-share-button" rel="noopener noreferrer" aria-label="Facebook Share Button" target=_blank href="https://www.facebook.com/sharer/sharer.php?u=%2fposts%2ffunction-call-stack-info%2f"><i class="fab fa-fw fa-facebook-f"></i> Facebook</a></div></div><div class="collapse navbar-collapse" tabindex=-1 id=navbarSupportedContent aria-labelledby=navbarSupportedContent><form class="search-bar my-1" action=/search><div class="input-group input-group-sm"><span class="btn btn-search disabled position-absolute left-0"><i class="fas fa-fw fa-search"></i></span>
<input class="form-control search-bar-input" name=q type=search aria-label=Search></div></form><ul class="navbar-nav me-auto"><li class=nav-item><a class=nav-link href=/series/><i class="fas fa-fw fa-columns"></i>گروه‌ها</a></li><li class=nav-item><a class=nav-link href=/archives/><i class="fas fa-fw fa-file-archive"></i>بایگانی</a></li><li class=nav-item><a class=nav-link href=/categories/><i class="fas fa-fw fa-folder"></i>دسته‌بندی‌ها</a></li><li class=nav-item><a class=nav-link href=/tags/><i class="fas fa-fw fa-tags"></i>برچسب‌ها</a></li></ul></div></div></nav></header><main class=container><div class="row content"><div class=col-lg-9><div class=container><nav class="row card component" aria-label=breadcrumb><div class=card-body><ol class=breadcrumb><li class=breadcrumb-item><a href=/>خانه</a></li><li class=breadcrumb-item><a href=/posts/>نوشته‌ها</a></li><li class="breadcrumb-item active">پشته‌ی فراخوانی توابع (Function Call Stack) چیست؟</li></ol></div></nav><article class="row card component mb-4 post"><div class=card-header><h1 class="card-title post-title">پشته‌ی فراخوانی توابع (Function Call Stack) چیست؟</h1></div><div class=card-body><div class=post-meta><span class=post-date title="ایجاد شده در 2017-08-11 10:50:52 +0000 UTC.">اوت 11, 2017
</span><span class=post-taxonomies><a href=/tags/function-call-stack/ class="badge post-taxonomy">Function Call Stack</a><a href=/tags/call-stack/ class="badge post-taxonomy">Call Stack</a></span></div><div class="post-content mb-3"><p>یکی از مهم‌ترین ساز و کارهایی که باید از سوی دانشجویان علوم کامپیوتر درک گردد پشته‌ی فراخوانی تابع است (گاهی اوقات تحت عنوان پشته‌ی اجرای برنامه نیز شناخته می‌شود). این ساختمان داده – که در پشت صحنه کار خود را انجام می‌دهد – ساز و کار فراخوانی و بازگشت توابع و همچنین ایجاد، نگهداری و انهدام متغیرهای خودکار توابع فراخوانی‌شده را نیز پشتیبانی می‌کند.</p><p>برای درک نحوه‌ی انجام فراخوانی تابع در زبان‌های برنامه‌نویسی ابتدا باید به بررسی یک ساختمان داده به نام پشته (Stack) بپردازیم. پشته را می‌توانید مانند تعدادی بشقاب که روی هم قرار گرفته‌اند در نظر بگیرید. هنگامی که یک بشقاب بر روی این توده قرار داده می‌شود، معمولا در بالای بشقاب‌ها گذاشته می‌شود (به این عمل گذاشتن یا پوش push کردن بشقاب در پشته می‌گویند). به طور مشابه، هنگامی که یک بشقاب از توده برداشته می‌شود، معمولا از بالای بشقاب‌ها برداشته می‌شود (به این عمل برداشتن یا پاپ pop کردن بشقاب از پشته می‌گویند). پشته‌ها به عنوان ساختمان‌های داده‌ای LIFO (Last-In, First-Out) شناخته می‌شوند یعنی آخرین آیتمی که در پشته گذاشته می‌شود (push) اولین آیتمی است که از پشته برداشته می‌شود (pop). همانطور که در تصویر می‌بینیم، این رفتار LIFO دقیقا همان کاری است که تابع، زمان بازگشت به تابع فراخواننده‌ی خود انجام می‌دهد.<br><img class="img-fluid mx-auto d-block" alt=Center src=/posts/function-call-stack-info/call_stack_1.jpg loading=lazy><br>هنگامی که یک تابع فراخوانی می‌شود، ممکن است قبل از آنکه مقداری را بازگرداند، توابع دیگری را فراخوانی کند، به همین ترتیب این توابع نیز ممکن است پیش از بازگردان یک مقدار به تابع فراخواننده‌ی خود، توابع دیگری را فراخوانی کنند. هر تابع در نهایت باید کنترل را به تابع فراخواننده‌ی خود باز گرداند. بنابراین، باید آدرس‌های بازگشت را که هر تابع برای بازگرداندن کنترل به تابع فراخواننده‌ی خود به آن‌ها نیاز دارد پیگیری و حفظ نماییم. پشته‌ی فراخوانی تابع یک ساختمان داده‌ی کامل برای اداره‌ی این اطلاعات است.<br>هر زمان که یک تابع اقدام به فراخوانی تابع دیگر می‌کند، یک ورودی به داخل پشته push می‌شود. این ورودی، یک قاب پشته (Stack Frame) یا یک رکورد فعالسازی (activation record) نامیده می‌شود و حاوی آدرس بازگشتی است که تابع فراخوانده‌شده برای بازگشت به تابع فراخواننده‌ی خود به آن نیاز دارد. قاب پشته حاوی یک سری اطلاعات دیگر نیز هست که به زودی در مورد آن‌ها بحث خواهیم کرد. اگر تابع فراخوانده‌شده، بجای فراخوانی تابع دیگری قبل از بازگشت، به مکان فراخوانی شدنش بازگردد، قاب پشته‌ی فرخوانی تابع pop می‌شود و کنترل به آدرس بازگشت، در قاب پشته pop شده منتقل می‌گردد.<br><img class="img-fluid mx-auto d-block" alt=Center src=/posts/function-call-stack-info/call_stack_2.jpg loading=lazy>
از مزایای پشته‌ی فراخوانی این است که هر تابع فراخوانی‌شده اطلاعات مورد نیاز خود برای بازگشت به فراخواننده‌ی خود را در بالای پشته‌ی فراخوانی می‌یابد و اگر یک تابع یک فراخوانی به تابع دیگری انجام دهد، یک قاب پشته برای فراخوانی تابع جدید در پشته‌ی فراخوانی push می‌شود. بنابراین، آدرس بازگشت مورد نیاز برای بازگشت تابع جدیدا فراخوانی‌شده به فراخواننده‌ی خود اکنون در بالای پشته قرار گرفته است.<br>قاب‌های پشته یک وظیفه‌ی مهم دیگری نیز بر عهده دارند. اغلب توابع دارای متغیر‌های خودکار مثل پارامترها و متغیرهای محلی که تابع اعلان می‌نماید، هستند. متغیرهای خودکار باید در زمان اجرای یک تابع وجود داشته باشند. این متغیرها حتی اگر تابع اقدام به فرخوانی توابع دیگر نماید نیز باید در حالت فعال باقی بمانند. البته هنگامی که یک تابع فراخوانده‌شده به فراخواننده‌ی خود بر می‌گردد، متغیرهای خودکار تابع فراخوانده‌شده باید از بین بروند. قاب پشته‌ی تابع فراخوانده‌شده یک مکان کامل و مطلوب جهت رزرو حافظه برای برای متغیرهای خودکار تابع فراخوانده‌شده است. این قاب پشته مادامی که تابع فراخوانده‌شده فعال است وجود دارد. هنگامی تابع فراخوانده‌شده به فراخواننده خود بر می‌گردد و دیگر نیازی به متغیرهای خودکار محلی خود ندارد، قاب پشته‌ی آن از درون پشته pop می‌شود، در این حالت متغیرهای خودکار محلی برنامه، دیگر شناخته شده نیستند.<br>البته میزان حافظه در یک کامپیوتر محدود است، از این رو تنها میزان مشخصی از حافظه می‌تواند برای ذخیره‌ی رکوردهای فعالسازی در پشته‌ی فراخوانی تابع بکار برده شود. اگر تعداد فراخوانی‌های تابع صورت گرفته بیش از ظرفیت ذخیره‌سازی رکوردهای فعالسازی در پشته‌ی فراخوانی تابع باشد، یک خطا به نام سرریز پشته (Stack Overflow) رخ می‌دهد.</p></div></div></article></div></div><aside class="col-lg-3 sidebar d-flex"><div class="container d-flex flex-column"><div class="card row text-center profile component"><div class=card-body><div class="col-12 d-flex align-items-center justify-content-center"><img class="profile-avatar rounded-circle" alt="آرمان حسن پور" src=/images/profile.webp loading=lazy data-viewer-invisible width=120 height=120></div><div class="col-12 profile-meta"><div class=profile-name>آرمان حسن پور</div><div class=profile-bio>برنامه نویس فول استک</div><div class=profile-about><i class="fas fa-fw fa-user"></i><a href=/about/>در مورد من</a></div><div class=profile-contact><i class="fas fa-fw fa-question-circle"></i><a href=/contact/>تماس با من</a></div><nav class="social-links nav justify-content-center"><a class="nav-link social-link" href=mailto:arman.hassanpoor2000@gmail.com title=Email><i class="fas fa-fw fa-2x fa-envelope"></i>
</a><a class="nav-link social-link" target=_blank href=https://github.com/arman-hpp title=GitHub rel="noopener noreferrer"><i class="fa-fw fa-2x fab fa-github"></i>
</a><a class="nav-link social-link" target=_blank href=https://linkedin.com/in/arsin title=LinkedIn rel="noopener noreferrer"><i class="fa-fw fa-2x fab fa-linkedin-in"></i>
</a><a class="nav-link social-link" target=_blank href=https://twitter.com/arman_hasanpour title=Twitter rel="noopener noreferrer"><i class="fa-fw fa-2x fab fa-twitter"></i>
</a><a class="nav-link social-link" target=_blank href=/index.xml title=RSS rel="noopener noreferrer"><i class="fas fa-fw fa-2x fa-rss"></i></a></nav></div></div></div><section class="recent-posts row card component"><div class=card-header><h2 class=card-title>نوشته‌های اخیر</h2></div><div class=card-body><ul class=post-list><li><a href=/posts/oracle-load-java/>استفاده از زبان برنامه‌نویسی Java در بانک اطلاعاتی Oracle</a></li><li><a href=/posts/unicode-farsi/>یونی‌کُد فارسی</a></li><li><a href=/posts/compare-floats/>مقایسه دو مقدار ممیز شناور در CSharp</a></li><li><a href=/posts/sql-server-turnover/>گزارش صورت حساب در SQL</a></li><li><a href=/posts/shetab-info/>سامانه شتاب</a></li></ul></div></section><section class="categories-taxonomies row card component"><div class=card-header><h2 class=card-title><a href=/categories>دسته‌بندی‌ها</a></h2></div><div class=card-body><div class=py-2><a href=/categories/general/ class="badge rounded post-taxonomy" title=General>General</a><a href=/categories/sql/ class="badge rounded post-taxonomy" title=SQL>
SQL</a><a href=/categories/csharp/ class="badge rounded post-taxonomy" title=CSharp>
CSharp</a><a href=/categories/dotnet/ class="badge rounded post-taxonomy" title=DotNet>
DotNet</a><a href=/categories/sqlserver/ class="badge rounded post-taxonomy" title=SQLServer>
SQLServer</a><a href=/categories/oop/ class="badge rounded post-taxonomy" title=OOP>
OOP</a><a href=/categories/oracle/ class="badge rounded post-taxonomy" title=Oracle>
Oracle</a><a href=/categories/design-patterns/ class="badge rounded post-taxonomy" title="Design Patterns">
Design Patterns</a><a href=/categories/float/ class="badge rounded post-taxonomy" title=Float>
Float</a><a href=/categories/java/ class="badge rounded post-taxonomy" title=Java>
Java</a><a href=/categories class="badge rounded post-taxonomy" title=ALL>
ALL
<span class="badge badge-sm custom-badge text-white bg-accent me-1">12</span></a></div></div></section><section class="tags-taxonomies row card component"><div class=card-header><h2 class=card-title><a href=/tags>برچسب‌ها</a></h2></div><div class=card-body><div class=py-2><a href=/tags/sql/ class="badge rounded post-taxonomy" title=SQL>SQL</a><a href=/tags/csharp/ class="badge rounded post-taxonomy" title=CSharp>
CSharp</a><a href=/tags/dotnet/ class="badge rounded post-taxonomy" title=DotNet>
DotNet</a><a href=/tags/sqlserver/ class="badge rounded post-taxonomy" title=SQLServer>
SQLServer</a><a href=/tags/oracle/ class="badge rounded post-taxonomy" title=Oracle>
Oracle</a><a href=/tags/farsi/ class="badge rounded post-taxonomy" title=Farsi>
Farsi</a><a href=/tags/float/ class="badge rounded post-taxonomy" title=Float>
Float</a><a href=/tags/guid/ class="badge rounded post-taxonomy" title=GUID>
GUID</a><a href=/tags/ip/ class="badge rounded post-taxonomy" title=IP>
IP</a><a href=/tags/object/ class="badge rounded post-taxonomy" title=Object>
Object</a><a href=/tags class="badge rounded post-taxonomy" title=ALL>
ALL
<span class="badge badge-sm custom-badge text-white bg-accent me-1">45</span></a></div></div></section></div></aside></div></main><footer class="footer mt-auto py-3 text-center container"><div class="copyright mb-2">تمام حقوق این سایت متعلق به آرمان حسن پور می باشد و کپی با ذکر منبع بلامانع است.</div><div class="powered-by mb-2">با افتخار نیرو گرفته از <a href=https://gohugo.io target=_blank rel="noopener noreferrer">Hugo</a>.</div></footer><script src=/assets/main/bundle.min.65a47d9fcb4853d6d21cd53de643bdd560a2c0ccbbbe0afcee4ec43c73351fe8.js crossorigin=anonymous defer></script><script src=/assets/icons/bundle.min.3d10b358a3f403570b31bca6b516d9b048f218fb3db903b59fb530d785e38131.js crossorigin=anonymous defer></script><script>"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.min.js").then(function(e){console.log("Successfully registered service worker",e)}).catch(function(e){console.warn("Error whilst registering service worker",e)})})</script><script src=/assets/viewer/bundle.min.ebfac23a0cfe7a4967b0c8837a56d9500cde48def21c42e2946e07b061913d71.js crossorigin=anonymous defer></script></body></html>